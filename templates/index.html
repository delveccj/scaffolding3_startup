<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Gutenberg Text Cleaner</title>
</head>
<body style="font-family:Arial;margin:30px;">
  <h1>Gutenberg Text Cleaner</h1>
  <input id="url" type="text" style="width:80%" placeholder="https://www.gutenberg.org/files/1342/1342-0.txt">
  <button onclick="clean()">Clean & Analyze</button>
  <p id="status"></p>
  <pre id="output" style="background:#f7f7f7;padding:10px;"></pre>
  <script>
    async function clean() {
      const url = document.getElementById('url').value.trim();
      document.getElementById('status').textContent = 'Processing...';
      const res = await fetch('/api/clean', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({url})
      });
      const data = await res.json();
      if (!data.success) {
        document.getElementById('status').textContent = 'Error: ' + data.error;
        return;
      }
      document.getElementById('status').textContent = 'Done!';
      document.getElementById('output').textContent = JSON.stringify(data, null, 2);
    }
  </script>
</body>
</html>
